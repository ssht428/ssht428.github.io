<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>MATLAB金融工具箱：11：根据基准优化投资组合</title>
        <link rel="stylesheet" type="text/css" media="all" href="../../../style.css">
    </head>
    <body class="post-template-default single single-post postid-14 single-format-standard logged-in admin-bar single-author singular two-column left-sidebar customize-support">
        <div id="page" class="hfeed">
            <div id="main">
                <div id="primary">
                    <div id="content" role="main">        
                        <article id="post-14" class="post-14 post type-post status-publish format-standard hentry category-18">
                            <header class="entry-header">
                                <h1 class="entry-title">MATLAB金融工具箱：11：根据基准优化投资组合</h1>
                            </header>
                            <div class="entry-content">
<br><a href="../../../index.html"> Home </a> 
<br>
<br>
<p>
<p data-first-child data-pid="ct3UK2ke">本示例说明如何使用金融工具箱中的<code><a href="https://www.mathworks.com/help/finance/portfolio.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">Portfolio</a></code>对象执行投资组合优化。</p><p data-pid="29vA9Zqa">尤其是，该示例说明了如何优化投资组合以相对于市场基准最大化信息比率。具体而言，将<code><a href="https://www.mathworks.com/help/matlab/ref/table.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">table</a></code>中包含的财务数据读入MATLAB并进行可视化（按天和按年）。<code><a href="https://www.mathworks.com/help/finance/portfolio.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">Portfolio</a></code>对象是使用每个资产的交易日收益的市场数据来创建的。使用支持<code><a href="https://www.mathworks.com/help/finance/portfolio.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">Portfolio</a></code>对象的函数，可以直接计算有效边界。然后，解决定制的优化问题，以找到信息比率最大的资产分配。</p><br><img src="v2-263655b40e74b60712747731952777c2_720w.jpg" ><h3><b>使用MATLAB导入历史数据</b></h3><p data-pid="AnfAwtro">导入资产范围和道琼斯工业平均指数（DJI）市场基准的历史价格。使用MATLAB的<code><a href="https://www.mathworks.com/help/matlab/ref/readtable.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">readtable</a></code>函数，将数据从Microsoft?Excel电子表格导入到<code><a href="https://www.mathworks.com/help/matlab/ref/table.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">table</a></code>。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">data</span> <span class="p">=</span> <span class="n">readtable</span><span class="p">(</span><span class="s">&#39;dowPortfolio.xlsx&#39;</span><span class="p">);</span>
 <span class="n">head</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
 <span class="nb">ans</span><span class="p">=</span><span class="mi">10</span>×<span class="mi">32</span> <span class="n">table</span>
        <span class="n">Dates</span>        <span class="n">DJI</span>      <span class="n">AA</span>       <span class="n">AIG</span>      <span class="n">AXP</span>      <span class="n">BA</span>        <span class="n">C</span>       <span class="n">CAT</span>      <span class="n">DD</span>       <span class="n">DIS</span>      <span class="n">GE</span>       <span class="n">GM</span>       <span class="n">HD</span>       <span class="n">HON</span>      <span class="n">HPQ</span>      <span class="n">IBM</span>     <span class="n">INTC</span>      <span class="n">JNJ</span>      <span class="n">JPM</span>      <span class="n">KO</span>       <span class="n">MCD</span>      <span class="n">MMM</span>      <span class="n">MO</span>       <span class="n">MRK</span>     <span class="n">MSFT</span>      <span class="n">PFE</span>      <span class="n">PG</span>        <span class="n">T</span>       <span class="n">UTX</span>      <span class="n">VZ</span>       <span class="n">WMT</span>      <span class="n">XOM</span> 
     <span class="n">___________</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>    <span class="n">_____</span>
 ?
     <span class="mi">03</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">10847</span>    <span class="mf">28.72</span>    <span class="mf">68.41</span>    <span class="mf">51.53</span>    <span class="mf">68.63</span>    <span class="mf">45.26</span>    <span class="mf">55.86</span>    <span class="mf">40.68</span>    <span class="mf">24.18</span>     <span class="mf">33.6</span>    <span class="mf">17.82</span>    <span class="mf">39.79</span>    <span class="mf">36.14</span>    <span class="mf">28.35</span>    <span class="mf">80.13</span>    <span class="mf">24.57</span>    <span class="mf">59.08</span>    <span class="mf">37.78</span>    <span class="mf">38.98</span>    <span class="mf">32.72</span>    <span class="mf">75.93</span>    <span class="mf">52.27</span>    <span class="mf">30.73</span>    <span class="mf">26.19</span>    <span class="mf">22.16</span>    <span class="mf">56.38</span>     <span class="mf">22.7</span>    <span class="mf">54.94</span>    <span class="mf">26.79</span>     <span class="mf">44.9</span>    <span class="mf">56.64</span>
     <span class="mi">04</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">10880</span>    <span class="mf">28.89</span>    <span class="mf">68.51</span>    <span class="mf">51.03</span>    <span class="mf">69.34</span>    <span class="mf">44.42</span>    <span class="mf">57.29</span>    <span class="mf">40.46</span>    <span class="mf">23.77</span>    <span class="mf">33.56</span>     <span class="mf">18.3</span>    <span class="mf">39.05</span>    <span class="mf">35.99</span>    <span class="mf">29.18</span>    <span class="mf">80.03</span>     <span class="mf">24.9</span>    <span class="mf">59.99</span>    <span class="mf">37.56</span>    <span class="mf">38.91</span>    <span class="mf">33.01</span>    <span class="mf">75.54</span>    <span class="mf">52.65</span>    <span class="mf">31.08</span>    <span class="mf">26.32</span>    <span class="mf">22.88</span>    <span class="mf">56.48</span>    <span class="mf">22.87</span>    <span class="mf">54.61</span>    <span class="mf">27.58</span>    <span class="mf">44.99</span>    <span class="mf">56.74</span>
     <span class="mi">05</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">10882</span>    <span class="mf">29.12</span>     <span class="mf">68.6</span>    <span class="mf">51.57</span>    <span class="mf">68.53</span>    <span class="mf">44.65</span>    <span class="mf">57.29</span>    <span class="mf">40.38</span>    <span class="mf">24.19</span>    <span class="mf">33.47</span>    <span class="mf">19.34</span>    <span class="mf">38.67</span>    <span class="mf">35.97</span>    <span class="mf">28.97</span>    <span class="mf">80.56</span>    <span class="mf">25.25</span>    <span class="mf">59.74</span>    <span class="mf">37.67</span>     <span class="mf">39.1</span>    <span class="mf">33.05</span>    <span class="mf">74.85</span>    <span class="mf">52.52</span>    <span class="mf">31.13</span>    <span class="mf">26.34</span>     <span class="mf">22.9</span>     <span class="mf">56.3</span>    <span class="mf">22.92</span>    <span class="mf">54.41</span>     <span class="mf">27.9</span>    <span class="mf">44.38</span>    <span class="mf">56.45</span>
     <span class="mi">06</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">10959</span>    <span class="mf">29.02</span>    <span class="mf">68.89</span>    <span class="mf">51.75</span>    <span class="mf">67.57</span>    <span class="mf">44.65</span>    <span class="mf">58.43</span>    <span class="mf">40.55</span>    <span class="mf">24.52</span>     <span class="mf">33.7</span>    <span class="mf">19.61</span>    <span class="mf">38.96</span>    <span class="mf">36.53</span>     <span class="mf">29.8</span>    <span class="mf">82.96</span>    <span class="mf">25.28</span>    <span class="mf">60.01</span>    <span class="mf">37.94</span>    <span class="mf">39.47</span>    <span class="mf">33.25</span>    <span class="mf">75.47</span>    <span class="mf">52.95</span>    <span class="mf">31.08</span>    <span class="mf">26.26</span>    <span class="mf">23.16</span>    <span class="mf">56.24</span>    <span class="mf">23.21</span>    <span class="mf">54.58</span>    <span class="mf">28.01</span>    <span class="mf">44.56</span>    <span class="mf">57.57</span>
     <span class="mi">09</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">11012</span>    <span class="mf">29.37</span>    <span class="mf">68.57</span>    <span class="mf">53.04</span>    <span class="mf">67.01</span>    <span class="mf">44.43</span>    <span class="mf">59.49</span>    <span class="mf">40.32</span>    <span class="mf">24.78</span>    <span class="mf">33.61</span>    <span class="mf">21.12</span>    <span class="mf">39.38</span>    <span class="mf">36.23</span>    <span class="mf">30.17</span>    <span class="mf">81.76</span>    <span class="mf">25.44</span>    <span class="mf">60.38</span>    <span class="mf">38.55</span>    <span class="mf">39.66</span>    <span class="mf">33.88</span>    <span class="mf">75.84</span>    <span class="mf">53.11</span>    <span class="mf">31.58</span>    <span class="mf">26.21</span>    <span class="mf">23.16</span>    <span class="mf">56.67</span>     <span class="mf">23.3</span>     <span class="mf">55.2</span>    <span class="mf">28.12</span>     <span class="mf">44.4</span>    <span class="mf">57.54</span>
     <span class="mi">10</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">11012</span>    <span class="mf">28.44</span>    <span class="mf">69.18</span>    <span class="mf">52.88</span>    <span class="mf">67.33</span>    <span class="mf">44.57</span>    <span class="mf">59.25</span>     <span class="mf">40.2</span>    <span class="mf">25.09</span>    <span class="mf">33.43</span>    <span class="mf">20.79</span>    <span class="mf">40.33</span>    <span class="mf">36.17</span>    <span class="mf">30.33</span>     <span class="mf">82.1</span>     <span class="mf">25.1</span>    <span class="mf">60.49</span>    <span class="mf">38.61</span>     <span class="mf">39.7</span>    <span class="mf">33.91</span>    <span class="mf">75.37</span>    <span class="mf">53.04</span>    <span class="mf">31.27</span>    <span class="mf">26.35</span>    <span class="mf">22.77</span>    <span class="mf">56.45</span>    <span class="mf">23.16</span>    <span class="mf">55.24</span>    <span class="mf">28.24</span>    <span class="mf">44.54</span>    <span class="mf">57.99</span>
     <span class="mi">11</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">11043</span>    <span class="mf">28.05</span>     <span class="mf">69.6</span>    <span class="mf">52.59</span>     <span class="mf">68.3</span>    <span class="mf">44.98</span>    <span class="mf">59.28</span>    <span class="mf">38.87</span>    <span class="mf">25.33</span>    <span class="mf">33.66</span>    <span class="mf">20.61</span>    <span class="mf">41.44</span>    <span class="mf">36.19</span>    <span class="mf">30.88</span>    <span class="mf">82.19</span>    <span class="mf">25.12</span>    <span class="mf">59.91</span>    <span class="mf">38.58</span>    <span class="mf">39.72</span>     <span class="mf">34.5</span>    <span class="mf">75.22</span>    <span class="mf">53.31</span>    <span class="mf">31.39</span>    <span class="mf">26.63</span>    <span class="mf">23.06</span>    <span class="mf">56.65</span>    <span class="mf">23.34</span>    <span class="mf">54.41</span>    <span class="mf">28.58</span>    <span class="mf">45.23</span>    <span class="mf">58.38</span>
     <span class="mi">12</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">10962</span>    <span class="mf">27.68</span>    <span class="mf">69.04</span>     <span class="mf">52.6</span>     <span class="mf">67.9</span>    <span class="mf">45.02</span>    <span class="mf">60.13</span>    <span class="mf">38.02</span>    <span class="mf">25.41</span>    <span class="mf">33.25</span>    <span class="mf">19.76</span>    <span class="mf">41.05</span>    <span class="mf">35.77</span>    <span class="mf">30.57</span>    <span class="mf">81.61</span>    <span class="mf">24.96</span>    <span class="mf">59.63</span>    <span class="mf">37.87</span>     <span class="mf">39.5</span>    <span class="mf">33.96</span>    <span class="mf">74.57</span>    <span class="mf">53.23</span>    <span class="mf">31.41</span>    <span class="mf">26.48</span>     <span class="mf">22.9</span>    <span class="mf">56.02</span>    <span class="mf">23.24</span>     <span class="mf">53.9</span>    <span class="mf">28.69</span>    <span class="mf">44.43</span>    <span class="mf">57.77</span>
     <span class="mi">13</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">10960</span>    <span class="mf">27.81</span>    <span class="mf">68.84</span>     <span class="mf">52.5</span>     <span class="mf">67.7</span>    <span class="mf">44.92</span>    <span class="mf">60.24</span>    <span class="mf">37.86</span>    <span class="mf">25.47</span>    <span class="mf">33.35</span>     <span class="mf">19.2</span>    <span class="mf">40.43</span>    <span class="mf">35.85</span>    <span class="mf">31.43</span>    <span class="mf">81.22</span>    <span class="mf">24.78</span>    <span class="mf">59.26</span>    <span class="mf">37.84</span>    <span class="mf">39.37</span>    <span class="mf">33.65</span>    <span class="mf">74.38</span>    <span class="mf">53.29</span>     <span class="mf">31.4</span>    <span class="mf">26.53</span>    <span class="mf">22.99</span>    <span class="mf">56.49</span>    <span class="mf">23.27</span>     <span class="mf">54.1</span>    <span class="mf">28.75</span>     <span class="mf">44.1</span>    <span class="mf">59.06</span>
     <span class="mi">17</span><span class="o">-</span><span class="n">Jan</span><span class="o">-</span><span class="mi">2006</span>    <span class="mi">10896</span>    <span class="mf">27.97</span>    <span class="mf">67.84</span>    <span class="mf">52.03</span>    <span class="mf">66.93</span>    <span class="mf">44.47</span>    <span class="mf">60.85</span>    <span class="mf">37.75</span>    <span class="mf">25.15</span>     <span class="mf">33.2</span>    <span class="mf">18.68</span>    <span class="mf">40.11</span>    <span class="mf">35.56</span>     <span class="mf">31.2</span>    <span class="mf">81.05</span>    <span class="mf">24.52</span>    <span class="mf">58.74</span>    <span class="mf">37.64</span>    <span class="mf">39.11</span>    <span class="mf">33.77</span>    <span class="mf">73.99</span>    <span class="mf">52.85</span>    <span class="mf">31.16</span>    <span class="mf">26.34</span>    <span class="mf">22.63</span>    <span class="mf">56.25</span>    <span class="mf">23.13</span>    <span class="mf">54.41</span>    <span class="mf">28.12</span>    <span class="mf">43.66</span>    <span class="mf">59.61</span></code></pre></div><p data-pid="U23YO8UI">从表格中分离资产名称，资产价格和DJI基准价格。可视化图片显示：归一化为统一的所有资产价格（即累积收益）的演变。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">benchPrice</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="n">DJI</span><span class="p">;</span>
 <span class="n">assetNames</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="n">Properties</span><span class="p">.</span><span class="n">VariableNames</span><span class="p">(</span><span class="mi">3</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="k">end</span><span class="p">);</span> <span class="c">% using half of the assets for display</span>
 <span class="n">assetPrice</span> <span class="p">=</span> <span class="n">data</span><span class="p">(:,</span><span class="n">assetNames</span><span class="p">).</span><span class="n">Variables</span><span class="p">;</span>
 ?
 <span class="n">assetP</span> <span class="p">=</span> <span class="n">assetPrice</span><span class="o">./</span><span class="n">assetPrice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">:);</span>  
 <span class="n">benchmarkP</span> <span class="p">=</span> <span class="n">benchPrice</span> <span class="o">/</span> <span class="n">benchPrice</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
 ?
 <span class="n">figure</span><span class="p">;</span>
 <span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Dates</span><span class="p">,</span><span class="n">assetP</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">on</span><span class="p">;</span>
 <span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Dates</span><span class="p">,</span><span class="n">benchmarkP</span><span class="p">,</span><span class="s">&#39;LineWidth&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s">&#39;Color&#39;</span><span class="p">,</span><span class="s">&#39;k&#39;</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">off</span><span class="p">;</span>
 <span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Date&#39;</span><span class="p">);</span>
 <span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Normalized Price&#39;</span><span class="p">);</span>
 <span class="n">title</span><span class="p">(</span><span class="s">&#39;Normalized Asset Prices and Benchmark&#39;</span><span class="p">);</span>
 <span class="n">grid</span> <span class="n">on</span><span class="p">;</span></code></pre></div><br><img src="v2-d3c20eef9bac69672154e24dbfdfecb7_720w.jpg" ><p data-pid="RNrfXMe6">粗线表示道琼斯工业平均指数市场基准。</p><h3><b>计算收益和风险调整收益</b></h3><p data-pid="OnTn5vsH">根据价格序列计算收益序列，并计算资产动量（历史收益和标准差）。可视化图片显示：所有资产的风险收益特征和DJI市场基准的散点图。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">benchReturn</span> <span class="p">=</span> <span class="n">tick2ret</span><span class="p">(</span><span class="n">benchPrice</span><span class="p">);</span>
 <span class="n">assetReturn</span> <span class="p">=</span> <span class="n">tick2ret</span><span class="p">(</span><span class="n">assetPrice</span><span class="p">);</span>
 ?
 <span class="n">benchRetn</span> <span class="p">=</span> <span class="n">mean</span><span class="p">(</span><span class="n">benchReturn</span><span class="p">);</span>
 <span class="n">benchRisk</span> <span class="p">=</span>  <span class="n">std</span><span class="p">(</span><span class="n">benchReturn</span><span class="p">);</span>
 <span class="n">assetRetn</span> <span class="p">=</span> <span class="n">mean</span><span class="p">(</span><span class="n">assetReturn</span><span class="p">);</span>
 <span class="n">assetRisk</span> <span class="p">=</span>  <span class="n">std</span><span class="p">(</span><span class="n">assetReturn</span><span class="p">);</span></code></pre></div><p data-pid="gA7wewlb">计算历史统计数据并绘制年度风险收益图。请注意，该图为年度水平，因此按日收益率进行换算。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">scale</span> <span class="p">=</span> <span class="mi">252</span><span class="p">;</span>
 ?
 <span class="n">assetRiskR</span> <span class="p">=</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span> <span class="o">*</span> <span class="n">assetRisk</span><span class="p">;</span>
 <span class="n">benchRiskR</span> <span class="p">=</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span> <span class="o">*</span> <span class="n">benchRisk</span><span class="p">;</span>
 <span class="n">assetReturnR</span> <span class="p">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="n">assetRetn</span><span class="p">;</span>
 <span class="n">benchReturnR</span> <span class="p">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="n">benchRetn</span><span class="p">;</span>
 ?
 <span class="n">figure</span><span class="p">;</span>
 <span class="n">scatter</span><span class="p">(</span><span class="n">assetRiskR</span><span class="p">,</span> <span class="n">assetReturnR</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="s">&#39;Filled&#39;</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">on</span>
 <span class="n">scatter</span><span class="p">(</span><span class="n">benchRiskR</span><span class="p">,</span> <span class="n">benchReturnR</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;Filled&#39;</span><span class="p">);</span>
 <span class="k">for</span> <span class="n">k</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">assetNames</span><span class="p">)</span>
     <span class="n">text</span><span class="p">(</span><span class="n">assetRiskR</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.005</span><span class="p">,</span> <span class="n">assetReturnR</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="n">assetNames</span><span class="p">{</span><span class="n">k</span><span class="p">},</span> <span class="s">&#39;FontSize&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
 <span class="k">end</span>
 <span class="n">text</span><span class="p">(</span><span class="n">benchRiskR</span> <span class="o">+</span> <span class="mf">0.005</span><span class="p">,</span> <span class="n">benchReturnR</span><span class="p">,</span> <span class="s">&#39;Benchmark&#39;</span><span class="p">,</span> <span class="s">&#39;Fontsize&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">off</span><span class="p">;</span>
 ?
 <span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Risk (Std Dev of Return)&#39;</span><span class="p">);</span>
 <span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Expected Annual Return&#39;</span><span class="p">);</span>
 <span class="n">grid</span> <span class="n">on</span><span class="p">;</span></code></pre></div><br><img src="v2-fb413e07713cd04522bb14844a3486aa_720w.jpg" ><h3><b>建立投资组合优化</b></h3><p data-pid="GI8NTQX9">通过使用<code><a href="https://www.mathworks.com/help/finance/portfolio.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">Portfolio</a></code>填充对象来设置投资组合优化问题。因为目标是根据基准优化投资组合分配，所以将在<code><a href="https://www.mathworks.com/help/finance/portfolio.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">Portfolio</a></code>对象中计算和使用每种资产的有效收益。在此示例中，投资组合中资产的预期收益和协方差设置为其历史值。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">p</span> <span class="p">=</span> <span class="n">Portfolio</span><span class="p">(</span><span class="s">&#39;AssetList&#39;</span><span class="p">,</span><span class="n">assetNames</span><span class="p">);</span></code></pre></div><p data-pid="OSgV1h3t">设置默认投资组合约束（所有权重之和为<code>1</code>，不做空，对风险资产的投资为100％）。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">p</span> <span class="p">=</span> <span class="n">setDefaultConstraints</span><span class="p">(</span><span class="n">p</span><span class="p">);</span></code></pre></div><p data-pid="ksApVvWW">将资产收益和协方差添加到<code><a href="https://www.mathworks.com/help/finance/portfolio.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">Portfolio</a></code>对象。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">activReturn</span> <span class="p">=</span> <span class="n">assetReturn</span> <span class="o">-</span> <span class="n">benchReturn</span><span class="p">;</span>
 <span class="n">pAct</span> <span class="p">=</span> <span class="n">estimateAssetMoments</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">activReturn</span><span class="p">,</span><span class="s">&#39;missingdata&#39;</span><span class="p">,</span><span class="n">false</span><span class="p">)</span>
 <span class="n">pAct</span> <span class="p">=</span> 
   <span class="n">Portfolio</span> <span class="n">with</span> <span class="k">properties</span><span class="p">:</span>
 ?
           <span class="n">BuyCost</span><span class="p">:</span> <span class="p">[]</span>
          <span class="n">SellCost</span><span class="p">:</span> <span class="p">[]</span>
      <span class="n">RiskFreeRate</span><span class="p">:</span> <span class="p">[]</span>
         <span class="n">AssetMean</span><span class="p">:</span> <span class="p">[</span><span class="mi">15</span><span class="n">x1</span> <span class="n">double</span><span class="p">]</span>
        <span class="n">AssetCovar</span><span class="p">:</span> <span class="p">[</span><span class="mi">15</span><span class="n">x15</span> <span class="n">double</span><span class="p">]</span>
     <span class="n">TrackingError</span><span class="p">:</span> <span class="p">[]</span>
      <span class="n">TrackingPort</span><span class="p">:</span> <span class="p">[]</span>
          <span class="n">Turnover</span><span class="p">:</span> <span class="p">[]</span>
       <span class="n">BuyTurnover</span><span class="p">:</span> <span class="p">[]</span>
      <span class="n">SellTurnover</span><span class="p">:</span> <span class="p">[]</span>
              <span class="n">Name</span><span class="p">:</span> <span class="p">[]</span>
         <span class="n">NumAssets</span><span class="p">:</span> <span class="mi">15</span>
         <span class="n">AssetList</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="n">x15</span> <span class="n">cell</span><span class="p">}</span>
          <span class="n">InitPort</span><span class="p">:</span> <span class="p">[]</span>
       <span class="n">AInequality</span><span class="p">:</span> <span class="p">[]</span>
       <span class="n">bInequality</span><span class="p">:</span> <span class="p">[]</span>
         <span class="n">AEquality</span><span class="p">:</span> <span class="p">[]</span>
         <span class="n">bEquality</span><span class="p">:</span> <span class="p">[]</span>
        <span class="n">LowerBound</span><span class="p">:</span> <span class="p">[</span><span class="mi">15</span><span class="n">x1</span> <span class="n">double</span><span class="p">]</span>
        <span class="n">UpperBound</span><span class="p">:</span> <span class="p">[]</span>
       <span class="n">LowerBudget</span><span class="p">:</span> <span class="mi">1</span>
       <span class="n">UpperBudget</span><span class="p">:</span> <span class="mi">1</span>
       <span class="n">GroupMatrix</span><span class="p">:</span> <span class="p">[]</span>
        <span class="n">LowerGroup</span><span class="p">:</span> <span class="p">[]</span>
        <span class="n">UpperGroup</span><span class="p">:</span> <span class="p">[]</span>
            <span class="n">GroupA</span><span class="p">:</span> <span class="p">[]</span>
            <span class="n">GroupB</span><span class="p">:</span> <span class="p">[]</span>
        <span class="n">LowerRatio</span><span class="p">:</span> <span class="p">[]</span>
        <span class="n">UpperRatio</span><span class="p">:</span> <span class="p">[]</span>
      <span class="n">MinNumAssets</span><span class="p">:</span> <span class="p">[]</span>
      <span class="n">MaxNumAssets</span><span class="p">:</span> <span class="p">[]</span>
         <span class="n">BoundType</span><span class="p">:</span> <span class="p">[</span><span class="mi">15</span><span class="n">x1</span> <span class="n">categorical</span><span class="p">]</span></code></pre></div><h3><b>使用<code>Portfolio</code>对象计算有效边界</b></h3><p data-pid="oBAtYZQS">计算20个最优投资组合的均值方差有效边界。可视化单个资产的风险收益特征的边界。此外，计算和可视化沿边界的每个投资组合的信息比率。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">pwgtAct</span> <span class="p">=</span> <span class="n">estimateFrontier</span><span class="p">(</span><span class="n">pAct</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span> <span class="c">% Estimate the weights.</span>
 <span class="p">[</span><span class="n">portRiskAct</span><span class="p">,</span> <span class="n">portRetnAct</span><span class="p">]</span> <span class="p">=</span> <span class="n">estimatePortMoments</span><span class="p">(</span><span class="n">pAct</span><span class="p">,</span> <span class="n">pwgtAct</span><span class="p">);</span> <span class="c">% Get the risk and return.</span>
 ?
 <span class="c">% Extract the asset moments and names.</span>
 <span class="p">[</span><span class="n">assetActRetnDaily</span><span class="p">,</span> <span class="n">assetActCovarDaily</span><span class="p">]</span> <span class="p">=</span> <span class="n">getAssetMoments</span><span class="p">(</span><span class="n">pAct</span><span class="p">);</span>
 <span class="n">assetActRiskDaily</span> <span class="p">=</span> <span class="nb">sqrt</span><span class="p">(</span><span class="nb">diag</span><span class="p">(</span><span class="n">assetActCovarDaily</span><span class="p">));</span>
 <span class="n">assetNames</span> <span class="p">=</span> <span class="n">pAct</span><span class="p">.</span><span class="n">AssetList</span><span class="p">;</span>
 ?
 <span class="c">% Rescale.</span>
 <span class="n">assetActRiskAnnual</span> <span class="p">=</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span> <span class="o">*</span> <span class="n">assetActRiskDaily</span><span class="p">;</span>
 <span class="n">portRiskAnnual</span>  <span class="p">=</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span> <span class="o">*</span>  <span class="n">portRiskAct</span><span class="p">;</span>
 <span class="n">assetActRetnAnnual</span> <span class="p">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="n">assetActRetnDaily</span><span class="p">;</span>
 <span class="n">portRetnAnnual</span> <span class="p">=</span> <span class="n">scale</span> <span class="o">*</span>  <span class="n">portRetnAct</span><span class="p">;</span>
 ?
 <span class="n">figure</span><span class="p">;</span>
 <span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
 <span class="n">plot</span><span class="p">(</span><span class="n">portRiskAnnual</span><span class="p">,</span> <span class="n">portRetnAnnual</span><span class="p">,</span> <span class="s">&#39;bo-&#39;</span><span class="p">,</span> <span class="s">&#39;MarkerFaceColor&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">on</span><span class="p">;</span>
 ?
 <span class="n">scatter</span><span class="p">(</span><span class="n">assetActRiskAnnual</span><span class="p">,</span> <span class="n">assetActRetnAnnual</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="s">&#39;Filled&#39;</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">on</span><span class="p">;</span>
 <span class="k">for</span> <span class="n">k</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">assetNames</span><span class="p">)</span>
     <span class="n">text</span><span class="p">(</span><span class="n">assetActRiskAnnual</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.005</span><span class="p">,</span> <span class="n">assetActRetnAnnual</span><span class="p">(</span><span class="n">k</span><span class="p">),</span> <span class="n">assetNames</span><span class="p">{</span><span class="n">k</span><span class="p">},</span> <span class="s">&#39;FontSize&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
 <span class="k">end</span>
 ?
 <span class="n">hold</span> <span class="n">off</span><span class="p">;</span>
 ?
 <span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Risk (Std Dev of Active Return)&#39;</span><span class="p">);</span>
 <span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Expected Active Return&#39;</span><span class="p">);</span>
 <span class="n">grid</span> <span class="n">on</span><span class="p">;</span>
 ?
 <span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
 <span class="n">plot</span><span class="p">(</span><span class="n">portRiskAnnual</span><span class="p">,</span> <span class="n">portRetnAnnual</span><span class="o">./</span><span class="n">portRiskAnnual</span><span class="p">,</span> <span class="s">&#39;bo-&#39;</span><span class="p">,</span> <span class="s">&#39;MarkerFaceColor&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">);</span>
 <span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Risk (Std Dev of Active Return)&#39;</span><span class="p">);</span>
 <span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Information Ratio&#39;</span><span class="p">);</span>
 <span class="n">grid</span> <span class="n">on</span><span class="p">;</span></code></pre></div><br><img src="v2-20510f99dfc2dbc3727fe8de52609cd1_720w.jpg" ><h3><b>使用优化工具箱执行信息比率最大化</b></h3><p data-pid="Q2ZsSXwm">运行混合优化，以沿着边境找到具有最大信息比率的投资组合。信息比率是相对回报与相对风险的比率（称为“跟踪误差”）。夏普（Sharpe）比率着眼于相对于无风险资产的收益，而信息比率是基于相对于风险基准（在本例中为DJI基准）的收益。这是通过运行优化来完成的，该优化找到最佳收益约束，对于该最优收益约束，投资组合优化问题将返回最大信息比率投资组合。从目标函数<code>infoRatioTargetReturn</code>调用投资组合优化函数，该目标函数是通过优化工具箱函数<code><a href="https://www.mathworks.com/help/optim/ug/fminbnd.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">fminbnd</a></code>来优化的。给定目标有效收益率，<a href="https://www.mathworks.com/help/finance/portfolio-optimization-against-a-benchmark.html%23PortfolioOptimizationBenchmarkExample-8" class=" wrap external" target="_blank" rel="nofollow noreferrer">局部函数</a> <code>infoRatioTargetReturn</code>计算最小（有效）风险组合。</p><p data-pid="mwdKok14">本地函数<code>infoRatioTargetReturn</code>被调用为优化程序（<code><a href="https://www.mathworks.com/help/optim/ug/fminbnd.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">fminbnd</a></code>）的目标函数，旨在寻找最大化的信息比率和负面信息的比例最小化的目标回报率。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">objFun</span> <span class="p">=</span> <span class="p">@(</span><span class="n">targetReturn</span><span class="p">)</span> <span class="o">-</span><span class="n">infoRatioTargetReturn</span><span class="p">(</span><span class="n">targetReturn</span><span class="p">,</span><span class="n">pAct</span><span class="p">);</span>
 <span class="n">options</span> <span class="p">=</span> <span class="n">optimset</span><span class="p">(</span><span class="s">&#39;TolX&#39;</span><span class="p">,</span><span class="mf">1.0e-8</span><span class="p">);</span>
 <span class="p">[</span><span class="n">optPortRetn</span><span class="p">,</span> <span class="o">~</span><span class="p">,</span> <span class="n">exitflag</span><span class="p">]</span> <span class="p">=</span> <span class="n">fminbnd</span><span class="p">(</span><span class="n">objFun</span><span class="p">,</span><span class="n">min</span><span class="p">(</span><span class="n">portRetnAct</span><span class="p">),</span><span class="n">max</span><span class="p">(</span><span class="n">portRetnAct</span><span class="p">),</span><span class="n">options</span><span class="p">);</span></code></pre></div><p data-pid="rUlvDn9a">获取权重，信息比率和最佳投资组合的风险回报。</p><div class="highlight"><pre><code class="language-matlab"> <span class="p">[</span><span class="n">optInfoRatio</span><span class="p">,</span><span class="n">optWts</span><span class="p">]</span> <span class="p">=</span> <span class="n">infoRatioTargetReturn</span><span class="p">(</span><span class="n">optPortRetn</span><span class="p">,</span><span class="n">pAct</span><span class="p">);</span>
 <span class="n">optPortRisk</span> <span class="p">=</span> <span class="n">estimatePortRisk</span><span class="p">(</span><span class="n">pAct</span><span class="p">,</span><span class="n">optWts</span><span class="p">)</span> 
 <span class="n">optPortRisk</span> <span class="p">=</span> <span class="mf">0.0040</span></code></pre></div><h3><b>绘制最佳投资组合</b></h3><p data-pid="bby-Ls_C">验证找到的投资组合确实是最大信息比率的投资组合。</p><div class="highlight"><pre><code class="language-matlab"> <span class="c">% Rescale.</span>
 <span class="n">optPortRiskAnnual</span> <span class="p">=</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">scale</span><span class="p">)</span> <span class="o">*</span> <span class="n">optPortRisk</span><span class="p">;</span>
 <span class="n">optPortReturnAnnual</span> <span class="p">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="n">optPortRetn</span><span class="p">;</span>
 ?
 <span class="n">figure</span><span class="p">;</span>
 <span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
 ?
 <span class="n">scatter</span><span class="p">(</span><span class="n">assetActRiskAnnual</span><span class="p">,</span> <span class="n">assetActRetnAnnual</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&#39;m&#39;</span><span class="p">,</span> <span class="s">&#39;Filled&#39;</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">on</span>
 <span class="k">for</span> <span class="n">k</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">assetNames</span><span class="p">)</span>
     <span class="n">text</span><span class="p">(</span><span class="n">assetActRiskAnnual</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.005</span><span class="p">,</span><span class="n">assetActRetnAnnual</span><span class="p">(</span><span class="n">k</span><span class="p">),</span><span class="n">assetNames</span><span class="p">{</span><span class="n">k</span><span class="p">},</span><span class="s">&#39;FontSize&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">);</span>
 <span class="k">end</span>
 <span class="n">plot</span><span class="p">(</span><span class="n">portRiskAnnual</span><span class="p">,</span><span class="n">portRetnAnnual</span><span class="p">,</span><span class="s">&#39;bo-&#39;</span><span class="p">,</span><span class="s">&#39;MarkerSize&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="s">&#39;MarkerFaceColor&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">);</span>
 <span class="n">plot</span><span class="p">(</span><span class="n">optPortRiskAnnual</span><span class="p">,</span><span class="n">optPortReturnAnnual</span><span class="p">,</span><span class="s">&#39;ro-&#39;</span><span class="p">,</span><span class="s">&#39;MarkerFaceColor&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">off</span><span class="p">;</span>
 ?
 <span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Risk (Std Dev of Active Return)&#39;</span><span class="p">);</span>
 <span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Expected Active Return&#39;</span><span class="p">);</span>
 <span class="n">grid</span> <span class="n">on</span><span class="p">;</span>
 ?
 <span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
 <span class="n">plot</span><span class="p">(</span><span class="n">portRiskAnnual</span><span class="p">,</span><span class="n">portRetnAnnual</span><span class="o">./</span><span class="n">portRiskAnnual</span><span class="p">,</span><span class="s">&#39;bo-&#39;</span><span class="p">,</span><span class="s">&#39;MarkerSize&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="s">&#39;MarkerFaceColor&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">on</span>
 <span class="n">plot</span><span class="p">(</span><span class="n">optPortRiskAnnual</span><span class="p">,</span><span class="n">optPortReturnAnnual</span><span class="o">./</span><span class="n">optPortRiskAnnual</span><span class="p">,</span><span class="s">&#39;ro-&#39;</span><span class="p">,</span><span class="s">&#39;MarkerFaceColor&#39;</span><span class="p">,</span><span class="s">&#39;r&#39;</span><span class="p">);</span>
 <span class="n">hold</span> <span class="n">off</span><span class="p">;</span>
 ?
 <span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Risk (Std Dev of Active Return)&#39;</span><span class="p">);</span>
 <span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Information Ratio&#39;</span><span class="p">);</span>
 <span class="n">title</span><span class="p">(</span><span class="s">&#39;Information Ratio with Optimal Portfolio&#39;</span><span class="p">);</span>
 <span class="n">grid</span> <span class="n">on</span><span class="p">;</span></code></pre></div><br><img src="v2-6451cbce76e97b53538e04107418fb18_720w.jpg" ><h3><b>显示投资组合优化解决方案</b></h3><p data-pid="E4DMDlbc">显示投资组合优化解决方案。</p><div class="highlight"><pre><code class="language-matlab"> <span class="n">assetIndx</span> <span class="p">=</span> <span class="n">optWts</span> <span class="o">&gt;</span> <span class="p">.</span><span class="mi">001</span><span class="p">;</span>
 <span class="n">results</span> <span class="p">=</span> <span class="n">table</span><span class="p">(</span><span class="n">assetNames</span><span class="p">(</span><span class="n">assetIndx</span><span class="p">)</span><span class="o">&#39;</span><span class="p">,</span> <span class="n">optWts</span><span class="p">(</span><span class="n">assetIndx</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="s">&#39;VariableNames&#39;</span><span class="p">,{</span><span class="s">&#39;Asset&#39;</span><span class="p">,</span> <span class="s">&#39;Weight&#39;</span><span class="p">});</span>
 <span class="nb">disp</span><span class="p">(</span><span class="s">&#39;Maximum Information Ratio Portfolio:&#39;</span><span class="p">)</span>
 <span class="n">Maximum</span> <span class="n">Information</span> <span class="n">Ratio</span> <span class="n">Portfolio</span><span class="p">:</span>
 <span class="nb">disp</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
      <span class="n">Asset</span>      <span class="n">Weight</span> 
     <span class="n">________</span>    <span class="n">_______</span>
 ?
     <span class="p">{</span><span class="s">&#39;AA&#39;</span>  <span class="p">}</span>      <span class="mf">1.539</span>
     <span class="p">{</span><span class="s">&#39;AXP&#39;</span> <span class="p">}</span>    <span class="mf">0.35551</span>
     <span class="p">{</span><span class="s">&#39;C&#39;</span>   <span class="p">}</span>     <span class="mf">9.6533</span>
     <span class="p">{</span><span class="s">&#39;DD&#39;</span>  <span class="p">}</span>     <span class="mf">4.0684</span>
     <span class="p">{</span><span class="s">&#39;HPQ&#39;</span> <span class="p">}</span>     <span class="mf">17.698</span>
     <span class="p">{</span><span class="s">&#39;JPM&#39;</span> <span class="p">}</span>     <span class="mf">21.565</span>
     <span class="p">{</span><span class="s">&#39;MCD&#39;</span> <span class="p">}</span>     <span class="mf">26.736</span>
     <span class="p">{</span><span class="s">&#39;MO&#39;</span>  <span class="p">}</span>     <span class="mf">13.648</span>
     <span class="p">{</span><span class="s">&#39;MSFT&#39;</span><span class="p">}</span>     <span class="mf">2.6858</span>
     <span class="p">{</span><span class="s">&#39;UTX&#39;</span> <span class="p">}</span>     <span class="mf">2.0509</span>
 <span class="n">fprintf</span><span class="p">(</span><span class="s">&#39;Active return for Max. Info Ratio portfolio is %0.2f%%\n&#39;</span><span class="p">,</span> <span class="n">optPortRetn</span><span class="o">*</span><span class="mi">25200</span><span class="p">);</span>
 <span class="n">Active</span> <span class="k">return</span> <span class="k">for</span> <span class="n">Max</span><span class="p">.</span> <span class="n">Info</span> <span class="n">Ratio</span> <span class="n">portfolio</span> <span class="n">is</span> <span class="mf">12.14</span><span class="c">%</span>
 <span class="n">fprintf</span><span class="p">(</span><span class="s">&#39;Tracking error for Max. Info Ratio portfolio is %0.2f%%\n&#39;</span><span class="p">,</span> <span class="n">optPortRisk</span><span class="o">*</span><span class="nb">sqrt</span><span class="p">(</span><span class="mi">252</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">);</span>
 <span class="n">Tracking</span> <span class="n">error</span> <span class="k">for</span> <span class="n">Max</span><span class="p">.</span> <span class="n">Info</span> <span class="n">Ratio</span> <span class="n">portfolio</span> <span class="n">is</span> <span class="mf">6.32</span><span class="c">%</span></code></pre></div><h3><b>局部函数</b></h3><div class="highlight"><pre><code class="language-matlab"><span class="k"> function</span><span class="w"> </span>[infoRatio,wts] <span class="p">=</span><span class="w"> </span><span class="nf">infoRatioTargetReturn</span><span class="p">(</span>targetReturn,portObj<span class="p">)</span><span class="w">
</span><span class="w"> </span><span class="c">% Calculate information ratio for a target-return portfolio along the</span>
 <span class="c">% efficient frontier.</span>
 <span class="n">wts</span> <span class="p">=</span> <span class="n">estimateFrontierByReturn</span><span class="p">(</span><span class="n">portObj</span><span class="p">,</span><span class="n">targetReturn</span><span class="p">);</span>
 <span class="n">portRiskAct</span> <span class="p">=</span> <span class="n">estimatePortRisk</span><span class="p">(</span><span class="n">portObj</span><span class="p">,</span><span class="n">wts</span><span class="p">);</span>
 <span class="n">infoRatio</span> <span class="p">=</span> <span class="n">targetReturn</span><span class="o">/</span><span class="n">portRiskAct</span><span class="p">;</span>
 <span class="k">end</span></code></pre></div><hr/><p data-pid="RX0l7XUH">注：本文根据MATLAB官网内容修改而成。</p>
</p>
<p>
<br> ======================================================================
<br><strong> 我的测试结果及程序  </strong>
<br>下面是我测试的代码：
<pre>

 
</pre>
<br> <img src="myTestResult.png"   width="868px" height="478px">


</p>



                            </div>
                        </article>
                    </div>
                </div>
            </div>
          <footer id="colophon" role="contentinfo">
	<div id="site-generator">孙悟空 from 吉林大学自动化 @ sunwukong@sangkeji.com</div>
	<script src="../../../footer.js"></script>
          </footer>
        </div>
    </body>
</html>
